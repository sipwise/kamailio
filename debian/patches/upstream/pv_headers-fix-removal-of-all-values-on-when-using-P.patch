From: Victor Seva <vseva@sipwise.com>
Subject: pv_headers: fix removal of all values on when using PV_IDX_ALL

$(x_hdr(whatever)[*]) = "hello" was just removing the first value

---
 src/modules/pv_headers/pvh_xavp.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/modules/pv_headers/pvh_xavp.c b/src/modules/pv_headers/pvh_xavp.c
index 226be47..ae773e5 100644
--- a/src/modules/pv_headers/pvh_xavp.c
+++ b/src/modules/pv_headers/pvh_xavp.c
@@ -630,7 +630,7 @@ int pvh_set_header(
 
 	if(val == NULL || (val->flags & PV_VAL_NULL)) {
 		if(idxf == PV_IDX_ALL) {
-			cnt = xavi_rm_by_name(hname, 1, &xavi);
+			cnt = xavi_rm_by_name(hname, 1, &avi);
 			LM_DBG("removed %d values of %.*s=>%.*s, set $null\n",
 				cnt, xavi->name.len, xavi->name.s, hname->len, hname->s);
 			if(pvh_set_xavi(msg, &xavi_name, hname, NULL, SR_XTYPE_NULL, 0, 0)
@@ -661,7 +661,7 @@ int pvh_set_header(
 				goto err;
 		} else if(idxf == PV_IDX_ALL) {
 			if(hname_cnt > 1) {
-				cnt = xavi_rm_by_name(hname, 1, &xavi);
+				cnt = xavi_rm_by_name(hname, 1, &avi);
 				LM_DBG("removed %d values of %.*s=>%.*s\n",
 					cnt, xavi->name.len, xavi->name.s, hname->len, hname->s);
 			}
