From: S-P Chan <shihping.chan@gmail.com>
Date: Thu, 29 Feb 2024 19:01:14 +0800
Subject: tls: fix OpenSSL 1.1.1 engine keys

Cherry-pick from e535cc5eb2
---
 src/modules/tls/tls_mod.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/src/modules/tls/tls_mod.c b/src/modules/tls/tls_mod.c
index 664e35f..85a1fc4 100644
--- a/src/modules/tls/tls_mod.c
+++ b/src/modules/tls/tls_mod.c
@@ -728,6 +728,7 @@ static int tls_engine_init()
 	 * We are in the child process and the global engine linked-list
 	 * is initialized in the parent.
 	 */
+	ENGINE_load_builtin_engines();
 	e = ENGINE_by_id("dynamic");
 	if(!e) {
 		err = "Error loading dynamic engine";
