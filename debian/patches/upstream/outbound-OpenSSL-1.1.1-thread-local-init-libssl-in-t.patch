From: S-P Chan <shihping.chan@gmail.com>
Date: Thu, 4 Jan 2024 21:47:23 +0800
Subject: outbound: OpenSSL 1.1.1 thread-local, init libssl in thread

(cherry-pick from 689de2736f5c92f11860e5854ccd95c84239f032)
---
 src/modules/outbound/outbound_mod.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/modules/outbound/outbound_mod.c b/src/modules/outbound/outbound_mod.c
index 00c0a66..a797eb8 100644
--- a/src/modules/outbound/outbound_mod.c
+++ b/src/modules/outbound/outbound_mod.c
@@ -110,7 +110,7 @@ static int mod_init(void)
 	}
 	ob_key.len = OB_KEY_LEN;
 
-#if OPENSSL_VERSION_NUMBER < 0x030000000L
+#if OPENSSL_VERSION_NUMBER < 0x010101000L
         mod_init_openssl(NULL);
 #else
         pthread_t tid;
