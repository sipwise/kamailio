From: Victor Seva <vseva@sipwise.com>
Date: Fri, 22 May 2020 13:42:57 +0200
Subject: pv_headers: add some more debug

---
 src/modules/pv_headers/pvh_xavp.c | 20 +++++++++++---------
 1 file changed, 11 insertions(+), 9 deletions(-)

diff --git a/src/modules/pv_headers/pvh_xavp.c b/src/modules/pv_headers/pvh_xavp.c
index 72235b1..7e48005 100644
--- a/src/modules/pv_headers/pvh_xavp.c
+++ b/src/modules/pv_headers/pvh_xavp.c
@@ -270,8 +270,8 @@ sr_xval_t *pvh_xavp_get_value(
 	sr_xavp_t *sub = NULL;
 
 	if((xavp = pvh_get_xavp(msg, xname)) != NULL) {
-		/*	LM_DBG("xavp:%.*s name:%.*s idx:%d\n", xavp->name.len, xavp->name.s,
-				name->len, name->s, idx); */
+		LM_DBG("xavp:%.*s name:%.*s idx:%d\n", xavp->name.len, xavp->name.s,
+				name->len, name->s, idx);
 		sub = pvh_xavp_get_by_index(name, idx, &xavp->val.v.xavp);
 	}
 
@@ -611,8 +611,10 @@ int pvh_get_header(struct sip_msg *msg, pv_param_t *param, pv_value_t *res)
 
 	xval = pvh_xavp_get_value(msg, &xavp_name, &hname, idx);
 
-	if(xval == NULL || !xval->v.s.s)
+	if(xval == NULL || !xval->v.s.s) {
+		LM_DBG("xval not found\n");
 		return pv_get_null(msg, param, res);
+	}
 
 	return pv_get_strval(msg, param, res, &xval->v.s);
 }
@@ -771,22 +773,22 @@ int pvh_get_uri(struct sip_msg *msg, pv_param_t *param, pv_value_t *res)
 
 	xval = pvh_xavp_get_value(msg, &xavp_name, &hname, 0);
 	if(xval == NULL || !xval->v.s.s) {
-		/*	LM_DBG("xavp:%.*s hname:%.*s is null\n", xavp_name.len, xavp_name.s,
-				hname.len, hname.s); */
+		LM_DBG("xavp:%.*s hname:%.*s is null\n", xavp_name.len, xavp_name.s,
+				hname.len, hname.s);
 		goto err;
 	}
 
 	xval_pd = pvh_xavp_get_value(msg, &xavp_parsed_xname, &hname, 0);
 
 	if(xval_pd) {
-		/*	LM_DBG("p_no:%d c_data from xavp_parsed_xname hname:%.*s\n", p_no,
-				hname.len, hname.s); */
+		LM_DBG("p_no:%d c_data from xavp_parsed_xname hname:%.*s\n", p_no,
+				hname.len, hname.s);
 		c_data = (xavp_c_data_t *)xval_pd->v.data->p;
 	}
 
 	if(c_data != NULL && cmp_str(&xval->v.s, &c_data->value) != 0) {
-		/*	LM_DBG("xval:%.*s != c_data->value:%.*s\n", xval->v.s.len, xval->v.s.s,
-				c_data->value.len, c_data->value.s); */
+		LM_DBG("xval:%.*s != c_data->value:%.*s\n", xval->v.s.len, xval->v.s.s,
+				c_data->value.len, c_data->value.s);
 		c_data = NULL;
 	}
 
