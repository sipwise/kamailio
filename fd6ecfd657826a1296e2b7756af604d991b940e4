{
  "comments": [
    {
      "key": {
        "uuid": "da9b358b_551d2c65",
        "filename": "debian/kamailio-lb.service",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2018-03-26T16:06:29Z",
      "side": 1,
      "message": "Why are we not using template services here?",
      "revId": "fd6ecfd657826a1296e2b7756af604d991b940e4",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da9b358b_152684ba",
        "filename": "debian/kamailio-lb.service",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-03-26T16:53:54Z",
      "side": 1,
      "message": "\u003e Why are we not using template services here?\n\nTemplates as in one for LB and another for Proxy?\n\nI\u0027m just not familiar with templates, but even more, I didn\u0027t look in detail the intricacies of -Proxy, to know if they are similar enough.\n\nFurthermore, I don\u0027t even know why there are two services, one \"proxy\" and one \"lb\", for me a loadbalancer is kind of a proxy, in many contexts is almost equivalent or the functionality is merged.  I\u0027m just wondering where the \"backends\" are in this schema :)\n\nIf you think that it\u0027s a best to use templates from the start, sure, I can look into it.",
      "parentUuid": "da9b358b_551d2c65",
      "revId": "fd6ecfd657826a1296e2b7756af604d991b940e4",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da9b358b_f503200c",
        "filename": "debian/kamailio-lb.service",
        "patchSetId": 1
      },
      "lineNbr": 13,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2018-03-26T16:06:29Z",
      "side": 1,
      "message": "Why not use the builtin User/Group and stop passing -u/-g to kamailio instead?",
      "revId": "fd6ecfd657826a1296e2b7756af604d991b940e4",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da9b358b_f52a007e",
        "filename": "debian/kamailio-lb.service",
        "patchSetId": 1
      },
      "lineNbr": 13,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-03-26T16:53:54Z",
      "side": 1,
      "message": "\u003e Why not use the builtin User/Group and stop passing -u/-g to\n \u003e kamailio instead?\n\nWith the init.d file there is the concept of starting as root, then drop privileges.  Also, User/Group are some variables in /etc/default, not sure if they\u0027re used internally.\n\nI just wanted to create a \"minimal viable product\" as first approach, to have something to review before the end of the day ;)",
      "parentUuid": "da9b358b_f503200c",
      "revId": "fd6ecfd657826a1296e2b7756af604d991b940e4",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da9b358b_d5081c2b",
        "filename": "debian/kamailio-lb.service",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2018-03-26T16:06:29Z",
      "side": 1,
      "message": "Why not just hardcode the values in the kamailio calls?",
      "revId": "fd6ecfd657826a1296e2b7756af604d991b940e4",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da9b358b_d51ffc59",
        "filename": "debian/kamailio-lb.service",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-03-26T16:53:54Z",
      "side": 1,
      "message": "\u003e Why not just hardcode the values in the kamailio calls?\n\nBecause there are 3 of them in this unit file, and I had to correct the path already once or twice (notice the /lb/).\n\nIf we use some kind of templating, it\u0027s potentially better to have it as a variable rather than hardcoded in several places.",
      "parentUuid": "da9b358b_d5081c2b",
      "revId": "fd6ecfd657826a1296e2b7756af604d991b940e4",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da9b358b_7510304f",
        "filename": "debian/kamailio-lb.service",
        "patchSetId": 1
      },
      "lineNbr": 18,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2018-03-26T16:06:29Z",
      "side": 1,
      "message": "Why the environment setting for the Exec lines, this seems unidiomatic for a unit file TBH, even if it might indeed seem more descriptive.",
      "revId": "fd6ecfd657826a1296e2b7756af604d991b940e4",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da9b358b_b52478af",
        "filename": "debian/kamailio-lb.service",
        "patchSetId": 1
      },
      "lineNbr": 18,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-03-26T16:53:54Z",
      "side": 1,
      "message": "\u003e Why the environment setting for the Exec lines, this seems\n \u003e unidiomatic for a unit file TBH, even if it might indeed seem more\n \u003e descriptive.\n\nAgain, these are defined in /etc/default/kamailio*, minimal viable product, all that :)",
      "parentUuid": "da9b358b_7510304f",
      "revId": "fd6ecfd657826a1296e2b7756af604d991b940e4",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da9b358b_8a25cfc3",
        "filename": "debian/kamailio-lb.service",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-03-26T15:37:57Z",
      "side": 1,
      "message": "This is not ready to commit, note the hack.  Submitting for early feedback, and to know if maybe we can get rid of this check -- maybe it\u0027s used by upstream but in Sipwise nobody needs that??",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 23,
        "endChar": 200
      },
      "revId": "fd6ecfd657826a1296e2b7756af604d991b940e4",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da9b358b_0a189f83",
        "filename": "debian/kamailio-lb.service",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2018-03-26T15:42:12Z",
      "side": 1,
      "message": "Can you please explain why do we need this at all? kamailio-config-tests?",
      "parentUuid": "da9b358b_8a25cfc3",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 23,
        "endChar": 200
      },
      "revId": "fd6ecfd657826a1296e2b7756af604d991b940e4",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da9b358b_b50d9839",
        "filename": "debian/kamailio-lb.service",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2018-03-26T16:06:29Z",
      "side": 1,
      "message": "If this is some kind of consistency check in the config vs the unit file, yeah I\u0027d completely ignore it. We were not doing this in the init script anyway were we, and that could have broken there too.",
      "parentUuid": "da9b358b_0a189f83",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 23,
        "endChar": 200
      },
      "revId": "fd6ecfd657826a1296e2b7756af604d991b940e4",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da9b358b_953a94cc",
        "filename": "debian/kamailio-lb.service",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-03-26T16:53:54Z",
      "side": 1,
      "message": "\u003e Can you please explain why do we need this at all?\n \u003e kamailio-config-tests?\n\nI was hoping that one of you could tell me :)\n\nThis is coming from the init file.  Not sure where that comes from, possibly it\u0027s just a hack from upstream to debug things when they go wrong, but I am not sure if it\u0027s something internal of Sipwise instead, or if we don\u0027t use it.  Hopefully it\u0027s the latter and we can get rid of it.",
      "parentUuid": "da9b358b_0a189f83",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 23,
        "endChar": 200
      },
      "revId": "fd6ecfd657826a1296e2b7756af604d991b940e4",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da9b358b_9513b45c",
        "filename": "debian/kamailio-lb.service",
        "patchSetId": 1
      },
      "lineNbr": 25,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2018-03-26T16:06:29Z",
      "side": 1,
      "message": "I\u0027m actually not sure how we should be setting this, because this feels is going to fight (kind-of) against monit (although the fact that systemd ends up being the gateway to whether and when and how the services gets started makes it probably a non-issue).",
      "revId": "fd6ecfd657826a1296e2b7756af604d991b940e4",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da9b358b_753710e4",
        "filename": "debian/kamailio-lb.service",
        "patchSetId": 1
      },
      "lineNbr": 25,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2018-03-26T16:53:54Z",
      "side": 1,
      "message": "\u003e I\u0027m actually not sure how we should be setting this, because this\n \u003e feels is going to fight (kind-of) against monit (although the fact\n \u003e that systemd ends up being the gateway to whether and when and how\n \u003e the services gets started makes it probably a non-issue).\n\nAs a data point, the current unit auto-converted from sysvinit script is: Restart\u003dno; the ones from upstream have either on-failure or on-abort.\n\nIf we want to get rid of monit relatively soon, and works fine today with monit under systemd, I\u0027d leave that makes sense for systemd in the future.",
      "parentUuid": "da9b358b_9513b45c",
      "revId": "fd6ecfd657826a1296e2b7756af604d991b940e4",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    }
  ]
}